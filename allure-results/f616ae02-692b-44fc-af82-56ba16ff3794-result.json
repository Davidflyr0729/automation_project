{"name": "test_change_pos[Otros pa\\xedses-https://nuxqa4.avtest.ink/]", "status": "broken", "statusDetails": {"message": "TypeError: DatabaseManager.save_test_result() missing 1 required positional argument: 'language'", "trace": "self = <test_case_5.TestCase5 object at 0x0000016D3FD2EC10>, browser = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"ef5cd679ac745845581ff5c0f3456f21\")>, base_url = 'https://nuxqa4.avtest.ink/'\npos_country = 'Otros países'\n\n    @pytest.mark.parametrize(\"base_url\", [\n        \"https://nuxqa4.avtest.ink/\",\n        \"https://nuxqa5.avtest.ink/\"\n    ])\n    @pytest.mark.parametrize(\"pos_country\", [\n        \"Otros países\",\n        \"España\",\n        \"Chile\"\n    ])\n    def test_change_pos(self, browser, base_url, pos_country):\n        \"\"\"\n        Caso 5: Verificar cambio de POS (País)\n        - Seleccionar 3 POS: Otros países, España, Chile\n        - Verificar que cada cambio de POS se haga correctamente\n        \"\"\"\n        test_name = f\"test_change_pos_{pos_country.replace(' ', '_').lower()}\"\n        video_recorder = None\n        home_page = HomePage(browser)\n    \n        try:\n            # Configurar grabación de video\n            video_recorder = VideoRecorder(\n                test_name=test_name,\n                browser_name=browser.name\n            )\n            video_recorder.start_recording()\n    \n            with allure.step(f\"1. Navegar a la página principal: {base_url}\"):\n>               home_page.navigate_to(base_url)\nE               AttributeError: 'HomePage' object has no attribute 'navigate_to'\n\ntests\\test_case_5.py:41: AttributeError\n\nDuring handling of the above exception, another exception occurred:\n\nself = <test_case_5.TestCase5 object at 0x0000016D3FD2EC10>, browser = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"ef5cd679ac745845581ff5c0f3456f21\")>, base_url = 'https://nuxqa4.avtest.ink/'\npos_country = 'Otros países'\n\n    @pytest.mark.parametrize(\"base_url\", [\n        \"https://nuxqa4.avtest.ink/\",\n        \"https://nuxqa5.avtest.ink/\"\n    ])\n    @pytest.mark.parametrize(\"pos_country\", [\n        \"Otros países\",\n        \"España\",\n        \"Chile\"\n    ])\n    def test_change_pos(self, browser, base_url, pos_country):\n        \"\"\"\n        Caso 5: Verificar cambio de POS (País)\n        - Seleccionar 3 POS: Otros países, España, Chile\n        - Verificar que cada cambio de POS se haga correctamente\n        \"\"\"\n        test_name = f\"test_change_pos_{pos_country.replace(' ', '_').lower()}\"\n        video_recorder = None\n        home_page = HomePage(browser)\n    \n        try:\n            # Configurar grabación de video\n            video_recorder = VideoRecorder(\n                test_name=test_name,\n                browser_name=browser.name\n            )\n            video_recorder.start_recording()\n    \n            with allure.step(f\"1. Navegar a la página principal: {base_url}\"):\n                home_page.navigate_to(base_url)\n                home_page.wait_for_page_load()\n                video_recorder.capture_frame(browser)\n                logger.info(f\"Navegado a: {base_url}\")\n    \n                # Tomar screenshot inicial\n                home_page.take_screenshot(f\"initial_{pos_country.replace(' ', '_')}.png\")\n    \n            with allure.step(f\"2. Cambiar POS a: {pos_country}\"):\n                home_page.select_pos(pos_country)\n                video_recorder.capture_frame(browser)\n                logger.info(f\"POS cambiado a: {pos_country}\")\n    \n                # Tomar screenshot después del cambio\n                home_page.take_screenshot(f\"after_pos_change_{pos_country.replace(' ', '_')}.png\")\n    \n            with allure.step(f\"3. Verificar que el POS {pos_country} se aplicó correctamente\"):\n                verification_result = home_page.verify_pos_changed(pos_country)\n                assert verification_result, f\"Falló la verificación del POS {pos_country}\"\n    \n                current_pos = home_page.get_current_pos()\n                logger.info(f\"POS actual detectado: {current_pos}\")\n    \n                video_recorder.capture_frame(browser)\n                logger.info(f\"POS {pos_country} verificado correctamente\")\n    \n            # Guardar resultado en base de datos\n            db = DatabaseManager()\n            db.save_test_result(\n                test_case_number=5,\n                test_case_name=f\"Change POS to {pos_country}\",\n                browser=browser.name,\n                url=base_url,\n                status=\"PASS\",\n                additional_info=f\"POS cambiado exitosamente a {pos_country}. Detectado: {current_pos}\"\n            )\n    \n            # Adjuntar evidencias a Allure\n            allure.attach(\n                browser.get_screenshot_as_png(),\n                name=f\"screenshot_pos_{pos_country.replace(' ', '_')}\",\n                attachment_type=allure.attachment_type.PNG\n            )\n    \n        except Exception as e:\n            # Capturar error y guardar en base de datos\n            error_msg = f\"Error en test_change_pos para {pos_country}: {str(e)}\"\n            logger.error(error_msg)\n    \n            if video_recorder:\n                video_recorder.capture_frame(browser)\n    \n            db = DatabaseManager()\n>           db.save_test_result(\n                test_case_number=5,\n                test_case_name=f\"Change POS to {pos_country}\",\n                browser=browser.name,\n                url=base_url,\n                status=\"FAIL\",\n                additional_info=error_msg\n            )\nE           TypeError: DatabaseManager.save_test_result() missing 1 required positional argument: 'language'\n\ntests\\test_case_5.py:94: TypeError"}, "description": "\nCaso 5: Verificar cambio de POS (País)\n- Seleccionar 3 POS: Otros países, España, Chile\n- Verificar que cada cambio de POS se haga correctamente\n", "steps": [{"name": "1. Navegar a la página principal: https://nuxqa4.avtest.ink/", "status": "broken", "statusDetails": {"message": "AttributeError: 'HomePage' object has no attribute 'navigate_to'\n", "trace": "  File \"C:\\Users\\DavidGalvezRestrepo\\DATOS\\DAVID\\EXAMEN\\project\\tests\\test_case_5.py\", line 41, in test_change_pos\n    home_page.navigate_to(base_url)\n    ^^^^^^^^^^^^^^^^^^^^^\n"}, "start": 1761873571813, "stop": 1761873571813}], "attachments": [{"name": "video_pos_Otros_países", "source": "4cad7a4d-ee12-41d1-9576-03c2558bbcb1-attachment.mp4", "type": "video/mp4"}, {"name": "log", "source": "ed04cf94-d3ae-463f-b22a-69de1a794088-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "pos_country", "value": "'Otros países'"}, {"name": "base_url", "value": "'https://nuxqa4.avtest.ink/'"}], "start": 1761873571812, "stop": 1761873571960, "uuid": "dc559859-14f2-43fe-b852-b57cb77c84c7", "historyId": "65b4d445cc64bce42fab1c154885b5b5", "testCaseId": "a5ef926c4a75e1b9fb88eddb1cd81bcc", "fullName": "tests.test_case_5.TestCase5#test_change_pos", "labels": [{"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_case_5"}, {"name": "subSuite", "value": "TestCase5"}, {"name": "host", "value": "DESKTOP-EOEE1L3"}, {"name": "thread", "value": "23648-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_case_5"}]}