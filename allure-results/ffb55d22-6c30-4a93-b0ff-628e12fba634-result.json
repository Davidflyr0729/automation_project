{"name": "Caso 6.1: Navegación a Ofertas de Vuelos", "status": "broken", "statusDetails": {"message": "Exception: No se pudo encontrar 'Ofertas de vuelos' en el submenú", "trace": "self = <test_case_6.TestCase6 object at 0x000001E1A57774D0>\nsetup = {'base_url': 'https://nuxqa4.avtest.ink/', 'browser': <selenium.webdriver.chrome.webdriver.WebDriver (session=\"e582985...tabaseManager object at 0x000001E1A5AD12B0>, 'home_page': <pages.home_page.HomePage object at 0x000001E1A57278C0>, ...}\n\n    @allure.title(\"Caso 6.1: Navegación a Ofertas de Vuelos\")\n    @allure.severity(allure.severity_level.CRITICAL)\n    def test_navigate_to_flight_offers(self, setup):\n        \"\"\"Navegar desde el navbar a Ofertas y destinos -> Ofertas de vuelos\"\"\"\n        browser = setup['browser']\n        home_page = setup['home_page']\n        video_recorder = setup['video_recorder']\n        db = setup['db']\n        base_url = setup['base_url']\n    \n        logger.info(\"=== INICIANDO TEST 6.1: Ofertas de Vuelos ===\")\n    \n        try:\n            # Paso 1: Verificar que estamos en español\n            with allure.step(\"Verificar idioma español\"):\n                current_url = home_page.get_page_url()\n                logger.info(f\"URL verificada: {current_url}\")\n    \n                # Si no termina en /es/, intentar navegar directamente a la versión española\n                if not current_url.endswith('/es/'):\n                    spanish_url = \"https://nuxqa4.avtest.ink/es/\"\n                    logger.info(f\"Navegando directamente a: {spanish_url}\")\n                    home_page.navigate_to(spanish_url)\n                    home_page.wait_for_page_load()\n                    current_url = home_page.get_page_url()\n    \n                assert '/es/' in current_url, f\"La URL no contiene '/es/': {current_url}\"\n                logger.info(f\"✅ URL en español confirmada: {current_url}\")\n                allure.attach(current_url, name=\"URL en Español\", attachment_type=allure.attachment_type.TEXT)\n    \n                # Capturar screenshot inicial\n                video_recorder.capture_frame(browser)\n    \n            # Paso 2: Localizar el menú \"Ofertas y destinos\"\n            with allure.step(\"Localizar menú Ofertas y destinos\"):\n                logger.info(\"Buscando menú 'Ofertas y destinos'...\")\n    \n                selectors = [\n                    \"//a[contains(text(), 'Ofertas y destinos')]\",\n                    \"//a[contains(@href, 'ofertas-destinos')]\",\n                    \"//button[contains(text(), 'Ofertas y destinos')]\",\n                    \"//*[contains(@class, 'nav')]//*[contains(text(), 'Ofertas y destinos')]\",\n                ]\n    \n                offers_menu = None\n                used_selector = \"\"\n    \n                for selector in selectors:\n                    try:\n                        offers_menu = WebDriverWait(browser, 5).until(\n                            EC.element_to_be_clickable((By.XPATH, selector))\n                        )\n                        used_selector = selector\n                        logger.info(f\"✅ Menú encontrado con selector: {selector}\")\n                        break\n                    except:\n                        continue\n    \n                if not offers_menu:\n                    raise Exception(\"No se pudo encontrar el menú 'Ofertas y destinos'\")\n    \n                allure.attach(used_selector, name=\"Selector usado para menú\", attachment_type=allure.attachment_type.TEXT)\n    \n            # Paso 3: Interactuar con el menú\n            with allure.step(\"Abrir menú Ofertas y destinos\"):\n                logger.info(\"Interactuando con el menú...\")\n    \n                # Capturar antes de la interacción\n                video_recorder.capture_frame(browser)\n    \n                # Hacer hover o click para abrir el menú\n                try:\n                    actions = ActionChains(browser)\n                    actions.move_to_element(offers_menu).perform()\n                    logger.info(\"✅ Hover ejecutado en el menú\")\n                    time.sleep(1)\n                except:\n                    browser.execute_script(\"arguments[0].click();\", offers_menu)\n                    logger.info(\"✅ Click ejecutado con JavaScript\")\n    \n                time.sleep(2)\n                video_recorder.capture_frame(browser)\n    \n            # Paso 4: Localizar \"Ofertas de vuelos\" en el submenú\n            with allure.step(\"Localizar Ofertas de vuelos\"):\n                logger.info(\"Buscando 'Ofertas de vuelos' en el submenú...\")\n    \n                flight_selectors = [\n                    \"//a[contains(text(), 'Ofertas de vuelos')]\",\n                    \"//a[contains(@href, 'ofertas-de-vuelos')]\",\n                    \"//*[contains(text(), 'Ofertas de vuelos')]\",\n                ]\n    \n                flight_offers_link = None\n                used_flight_selector = \"\"\n    \n                for selector in flight_selectors:\n                    try:\n                        flight_offers_link = WebDriverWait(browser, 5).until(\n                            EC.element_to_be_clickable((By.XPATH, selector))\n                        )\n                        used_flight_selector = selector\n                        logger.info(f\"✅ 'Ofertas de vuelos' encontrado con selector: {selector}\")\n                        break\n                    except:\n                        continue\n    \n                if not flight_offers_link:\n>                   raise Exception(\"No se pudo encontrar 'Ofertas de vuelos' en el submenú\")\nE                   Exception: No se pudo encontrar 'Ofertas de vuelos' en el submenú\n\ntests\\test_case_6.py:185: Exception"}, "description": "Navegar desde el navbar a Ofertas y destinos -> Ofertas de vuelos", "steps": [{"name": "Verificar idioma español", "status": "passed", "attachments": [{"name": "URL en Español", "source": "a1c55358-b4fd-4b6c-a73d-8e360da980e9-attachment.txt", "type": "text/plain"}], "start": 1762264857504, "stop": 1762264857680}, {"name": "Localizar menú Ofertas y destinos", "status": "passed", "attachments": [{"name": "Selector usado para menú", "source": "323795ed-5674-4071-82fd-3e61847f3416-attachment.txt", "type": "text/plain"}], "start": 1762264857680, "stop": 1762264884064}, {"name": "Abrir menú Ofertas y destinos", "status": "passed", "start": 1762264884064, "stop": 1762264887644}, {"name": "Localizar Ofertas de vuelos", "status": "broken", "statusDetails": {"message": "Exception: No se pudo encontrar 'Ofertas de vuelos' en el submenú\n", "trace": "  File \"C:\\Users\\DavidGalvezRestrepo\\DATOS\\DAVID\\EXAMEN\\project\\tests\\test_case_6.py\", line 185, in test_navigate_to_flight_offers\n    raise Exception(\"No se pudo encontrar 'Ofertas de vuelos' en el submenú\")\n"}, "start": 1762264887644, "stop": 1762264908762}], "attachments": [{"name": "Screenshot Error Test 6.1 - chrome", "source": "6c62ab87-04d7-4973-81c8-0ae630a3993b-attachment.png", "type": "image/png"}, {"name": "log", "source": "31e73fa2-6fdb-462e-b950-64b7f9d3fee5-attachment.txt", "type": "text/plain"}, {"name": "stdout", "source": "404aa059-24e9-4dbe-83df-9bd210adf2cd-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "browser", "value": "'chrome'"}], "start": 1762264857504, "stop": 1762264908916, "uuid": "1732221b-b7e1-49e8-acee-ff2a35232401", "historyId": "d049029059244829e2809711430ff35b", "testCaseId": "3fdead4b71e6baf6a94419b2b00c5c47", "fullName": "tests.test_case_6.TestCase6#test_navigate_to_flight_offers", "labels": [{"name": "severity", "value": "critical"}, {"name": "feature", "value": "Caso 6: Navegación en Navbar"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_case_6"}, {"name": "subSuite", "value": "TestCase6"}, {"name": "host", "value": "DESKTOP-EOEE1L3"}, {"name": "thread", "value": "23312-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_case_6"}]}