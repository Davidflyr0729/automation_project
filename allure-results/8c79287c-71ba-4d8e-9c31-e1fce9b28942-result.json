{"name": "test_change_pos[Otros pa\\xedses-https://nuxqa4.avtest.ink/]", "status": "failed", "statusDetails": {"message": "AssertionError: Falló la verificación del POS Otros países\nassert False", "trace": "self = <test_case_5.TestCase5 object at 0x00000274A016EAD0>, browser = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"a2ed9b424618f526d9fa5a5ed01e5237\")>, base_url = 'https://nuxqa4.avtest.ink/'\npos_country = 'Otros países'\n\n    @pytest.mark.parametrize(\"base_url\", [\n        \"https://nuxqa4.avtest.ink/\",\n        \"https://nuxqa5.avtest.ink/\"\n    ])\n    @pytest.mark.parametrize(\"pos_country\", [\n        \"Otros países\",\n        \"España\",\n        \"Chile\"\n    ])\n    def test_change_pos(self, browser, base_url, pos_country):\n        \"\"\"\n        Caso 5: Verificar cambio de POS (País)\n        - Seleccionar 3 POS: Otros países, España, Chile\n        - Verificar que cada cambio de POS se haga correctamente\n        \"\"\"\n        test_name = f\"test_change_pos_{pos_country.replace(' ', '_').lower()}\"\n        video_recorder = None\n        home_page = HomePage(browser)\n    \n        try:\n            # Configurar grabación de video\n            video_recorder = VideoRecorder(\n                test_name=test_name,\n                browser_name=browser.name\n            )\n            video_recorder.start_recording()\n    \n            with allure.step(f\"1. Navegar a la página principal: {base_url}\"):\n                home_page.navigate_to(base_url)\n                home_page.wait_for_page_load()\n                video_recorder.capture_frame(browser)\n                logger.info(f\"Navegado a: {base_url}\")\n    \n                # Tomar screenshot inicial\n                home_page.take_screenshot(f\"initial_{pos_country.replace(' ', '_')}.png\")\n    \n            with allure.step(f\"2. Cambiar POS a: {pos_country}\"):\n                home_page.select_pos(pos_country)\n                video_recorder.capture_frame(browser)\n                logger.info(f\"POS cambiado a: {pos_country}\")\n    \n                # Tomar screenshot después del cambio\n                home_page.take_screenshot(f\"after_pos_change_{pos_country.replace(' ', '_')}.png\")\n    \n            with allure.step(f\"3. Verificar que el POS {pos_country} se aplicó correctamente\"):\n                verification_result = home_page.verify_pos_changed(pos_country)\n                assert verification_result, f\"Falló la verificación del POS {pos_country}\"\n    \n                current_pos = home_page.get_current_pos()\n                logger.info(f\"POS actual detectado: {current_pos}\")\n    \n                video_recorder.capture_frame(browser)\n                logger.info(f\"POS {pos_country} verificado correctamente\")\n    \n            # Guardar resultado en base de datos - CORREGIDO: agregando parámetro 'language'\n            db = DatabaseManager()\n            db.save_test_result(\n                test_case_number=5,\n                test_case_name=f\"Change POS to {pos_country}\",\n                browser=browser.name,\n                language=\"español\",  # PARÁMETRO FALTANTE AGREGADO\n                status=\"PASS\",\n                url=base_url,\n                additional_info=f\"POS cambiado exitosamente a {pos_country}. Detectado: {current_pos}\"\n            )\n    \n            # Adjuntar evidencias a Allure\n            allure.attach(\n                browser.get_screenshot_as_png(),\n                name=f\"screenshot_pos_{pos_country.replace(' ', '_')}\",\n                attachment_type=allure.attachment_type.PNG\n            )\n    \n        except Exception as e:\n            # Capturar error y guardar en base de datos - CORREGIDO: agregando parámetro 'language'\n            error_msg = f\"Error en test_change_pos para {pos_country}: {str(e)}\"\n            logger.error(error_msg)\n    \n            if video_recorder:\n                video_recorder.capture_frame(browser)\n    \n            db = DatabaseManager()\n            db.save_test_result(\n                test_case_number=5,\n                test_case_name=f\"Change POS to {pos_country}\",\n                browser=browser.name,\n                language=\"español\",  # PARÁMETRO FALTANTE AGREGADO\n                status=\"FAIL\",\n                url=base_url,\n                additional_info=error_msg\n            )\n    \n            # Adjuntar screenshot de error\n            allure.attach(\n                browser.get_screenshot_as_png(),\n                name=f\"error_screenshot_pos_{pos_country.replace(' ', '_')}\",\n                attachment_type=allure.attachment_type.PNG\n            )\n    \n>           raise e\n\ntests\\test_case_5.py:112: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <test_case_5.TestCase5 object at 0x00000274A016EAD0>, browser = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"a2ed9b424618f526d9fa5a5ed01e5237\")>, base_url = 'https://nuxqa4.avtest.ink/'\npos_country = 'Otros países'\n\n    @pytest.mark.parametrize(\"base_url\", [\n        \"https://nuxqa4.avtest.ink/\",\n        \"https://nuxqa5.avtest.ink/\"\n    ])\n    @pytest.mark.parametrize(\"pos_country\", [\n        \"Otros países\",\n        \"España\",\n        \"Chile\"\n    ])\n    def test_change_pos(self, browser, base_url, pos_country):\n        \"\"\"\n        Caso 5: Verificar cambio de POS (País)\n        - Seleccionar 3 POS: Otros países, España, Chile\n        - Verificar que cada cambio de POS se haga correctamente\n        \"\"\"\n        test_name = f\"test_change_pos_{pos_country.replace(' ', '_').lower()}\"\n        video_recorder = None\n        home_page = HomePage(browser)\n    \n        try:\n            # Configurar grabación de video\n            video_recorder = VideoRecorder(\n                test_name=test_name,\n                browser_name=browser.name\n            )\n            video_recorder.start_recording()\n    \n            with allure.step(f\"1. Navegar a la página principal: {base_url}\"):\n                home_page.navigate_to(base_url)\n                home_page.wait_for_page_load()\n                video_recorder.capture_frame(browser)\n                logger.info(f\"Navegado a: {base_url}\")\n    \n                # Tomar screenshot inicial\n                home_page.take_screenshot(f\"initial_{pos_country.replace(' ', '_')}.png\")\n    \n            with allure.step(f\"2. Cambiar POS a: {pos_country}\"):\n                home_page.select_pos(pos_country)\n                video_recorder.capture_frame(browser)\n                logger.info(f\"POS cambiado a: {pos_country}\")\n    \n                # Tomar screenshot después del cambio\n                home_page.take_screenshot(f\"after_pos_change_{pos_country.replace(' ', '_')}.png\")\n    \n            with allure.step(f\"3. Verificar que el POS {pos_country} se aplicó correctamente\"):\n                verification_result = home_page.verify_pos_changed(pos_country)\n>               assert verification_result, f\"Falló la verificación del POS {pos_country}\"\nE               AssertionError: Falló la verificación del POS Otros países\nE               assert False\n\ntests\\test_case_5.py:59: AssertionError"}, "description": "\nCaso 5: Verificar cambio de POS (País)\n- Seleccionar 3 POS: Otros países, España, Chile\n- Verificar que cada cambio de POS se haga correctamente\n", "steps": [{"name": "1. Navegar a la página principal: https://nuxqa4.avtest.ink/", "status": "passed", "start": 1761876175825, "stop": 1761876178831}, {"name": "2. Cambiar POS a: Otros países", "status": "passed", "start": 1761876178831, "stop": 1761876191942}, {"name": "3. Verificar que el POS Otros países se aplicó correctamente", "status": "failed", "statusDetails": {"message": "AssertionError: Falló la verificación del POS Otros países\nassert False\n", "trace": "  File \"C:\\Users\\DavidGalvezRestrepo\\DATOS\\DAVID\\EXAMEN\\project\\tests\\test_case_5.py\", line 59, in test_change_pos\n    assert verification_result, f\"Falló la verificación del POS {pos_country}\"\n"}, "start": 1761876191942, "stop": 1761876191965}], "attachments": [{"name": "error_screenshot_pos_Otros_países", "source": "6b796aac-46c0-4985-bfa9-f9a90f4cf23b-attachment.png", "type": "image/png"}, {"name": "video_pos_Otros_países", "source": "b8efb813-db5a-4478-9cab-989eef904b3a-attachment.mp4", "type": "video/mp4"}, {"name": "log", "source": "3d1c6c9b-6f4d-4690-9d33-7ba05e567e58-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "pos_country", "value": "'Otros países'"}, {"name": "base_url", "value": "'https://nuxqa4.avtest.ink/'"}], "start": 1761876175824, "stop": 1761876192206, "uuid": "84c24c60-7bc2-4af2-8ee6-99c331773186", "historyId": "65b4d445cc64bce42fab1c154885b5b5", "testCaseId": "a5ef926c4a75e1b9fb88eddb1cd81bcc", "fullName": "tests.test_case_5.TestCase5#test_change_pos", "labels": [{"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_case_5"}, {"name": "subSuite", "value": "TestCase5"}, {"name": "host", "value": "DESKTOP-EOEE1L3"}, {"name": "thread", "value": "4552-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_case_5"}]}